{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="text-gray-600 body-font overflow-hidden">
  <div class="container px-5 py-8 mx-auto">
	<div class="flex justify-center">
	  <div class="lg:w-4/5 flex flex-wrap justify-center">
		<div class="lg:w-1/2 w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0">
		  <h2 class="text-sm title-font text-gray-500 tracking-widest">ORGANISOR</h2>
		  <div class="flex items-center mb-4">
		  	<div class="w-16 h-16 rounded-full mr-4 relative flex items-center justify-center flex-shrink-0">
		  		{% if organisor.user.profile_image %}
		  		<img src="{{ organisor.user.profile_image.url }}" alt="Profile Image" class="w-16 h-16 rounded-full object-cover absolute inset-0" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
		  		{% endif %}
		  		<img src="{% static 'images/crm-logo.png' %}" alt="Darkenyas CRM" class="profile-img-fallback w-16 h-16 rounded-full object-cover" style="{% if organisor.user.profile_image %}display:none;{% endif %}">
		  	</div>
		  	<h1 class="text-gray-900 text-3xl title-font font-medium">{{organisor.user.username}}</h1>
		  </div>
		  <div class="flex mb-4">
			<a href="{% url 'organisors:organisor-detail' organisor.pk %}" class="flex-grow text-indigo-500 border-b-2 border-indigo-500 py-2 text-lg px-1">
			  Overview
			</a>
			<a href="{% url 'organisors:organisor-update' organisor.pk %}" class="flex-grow border-b-2 border-gray-300 py-2 text-lg px-1">
			  Update Details
			</a>
		  </div>
		  <p class="leading-relaxed mb-4">Organisor profile information</p>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Full Name</span>
			<span class="ml-auto text-gray-900">{{ organisor.user.first_name }} {{ organisor.user.last_name }}</span>
		  </div>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Email</span>
			<span class="ml-auto text-gray-900">{{ organisor.user.email }}</span>
		  </div>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Phone</span>
			<span class="ml-auto text-gray-900">{{ organisor.user.phone_number|default:"Not provided" }}</span>
		  </div>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Date of Birth</span>
			<span class="ml-auto text-gray-900">{% if organisor.user.date_of_birth %}{{ organisor.user.date_of_birth|date:"d/m/Y" }}{% else %}Not provided{% endif %}</span>
		  </div>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Gender</span>
			<span class="ml-auto text-gray-900">{% if organisor.user.gender %}{{ organisor.user.get_gender_display }}{% else %}Not provided{% endif %}</span>
		  </div>
		  <div class="flex border-t border-gray-200 py-2">
			<span class="text-gray-500">Username</span>
			<span class="ml-auto text-gray-900">{{ organisor.user.username }}</span>
		  </div>
		  <div class="flex border-t border-b mb-6 border-gray-200 py-2">
			<span class="text-gray-500">Email Status</span>
			<span class="ml-auto text-gray-900">
				{% if organisor.user.email_verified %}
					<span class="text-green-600">✓ Verified</span>
				{% else %}
					<span class="text-orange-600">⚠ Pending Verification</span>
				{% endif %}
			</span>
		  </div>
		  {% if request.user.is_superuser %}
		  <a class="hover:text-blue-500 mt-3" href="{% url 'organisors:organisor-list' %}">Go back to organisors</a>
		  {% else %}
		  <a class="hover:text-blue-500 mt-3" href="{% url 'landing-page' %}">Go back to home</a>
		  {% endif %}
		</div>
	  </div>
	</div>
  </div>
</section>
{% endblock content %}
