{% load static %}
<header class="text-gray-600 body-font border-b border-gray-200">
  <div class="flex flex-nowrap items-center justify-between gap-4 px-4 py-3 w-full">
	<a href="http://127.0.0.1:8000/" class="flex items-center text-gray-900 shrink-0">
	  <img src="{% static 'images/crm-logo.png' %}" alt="Darkenyas CRM Logo" class="h-10 w-auto object-contain">
	  <span class="ml-2 text-lg font-medium whitespace-nowrap">Darkenyas CRM</span>
	</a>
	<nav class="flex flex-nowrap items-center justify-end gap-0.5 text-sm min-w-0 flex-1">
	  {% if not request.user.is_authenticated %}
	  <a href="{% url 'signup' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Signup</a>
	  {% else %}
	  {% if request.user.is_superuser %}
	  <a href="{% url 'organisors:organisor-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Organisors</a>
	  <a href="{% url 'agents:agent-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Agents</a>
	  <a href="{% url 'ProductsAndStock:ProductAndStock-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Products</a>
	  <a href="{% url 'orders:order-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Orders</a>
	  <a href="{% url 'finance:financial_report' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Finance</a>
	  <a href="{% url 'tasks:task-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Tasks</a>
	  {% elif request.user.is_organisor %}
	  <a href="{% url 'agents:agent-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Agents</a>
	  <a href="{% url 'ProductsAndStock:ProductAndStock-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Products</a>
	  <a href="{% url 'orders:order-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Orders</a>
	  <a href="{% url 'finance:financial_report' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Finance</a>
	  <a href="{% url 'tasks:task-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Tasks</a>
	  {% if request.user.organisor %}
	  <a href="{% url 'organisors:organisor-detail' request.user.organisor.pk %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Profile</a>
	  {% else %}
	  <a href="{% url 'organisors:organisor-detail' request.user.userprofile.pk %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Profile</a>
	  {% endif %}
	  {% elif request.user.is_agent %}
	  {% if request.user.agent %}
	  <a href="{% url 'agents:agent-detail' request.user.agent.pk %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Profile</a>
	  {% else %}
	  <a href="{% url 'agents:agent-detail' request.user.userprofile.pk %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Profile</a>
	  {% endif %}
	  <a href="{% url 'ProductsAndStock:ProductAndStock-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Products</a>
	  <a href="{% url 'orders:order-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Orders</a>
	  <a href="{% url 'tasks:task-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Tasks</a>
	  {% endif %}
	  <a href="{% url 'leads:lead-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Leads</a>
	  <a href="{% url 'activity_log:activity-log-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500">Activity</a>
	  {% endif %}
	  {% if request.user.is_authenticated %}
	  <a href="{% url 'tasks:notification-list' %}" class="whitespace-nowrap px-2 py-1.5 hover:text-blue-500 inline-flex items-center relative" title="Notifications">
		<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
		{% if unread_notification_count %}
		<span class="absolute -top-0.5 -right-0.5 flex h-3.5 w-3.5 items-center justify-center rounded-full bg-red-500 text-[10px] text-white font-medium">{{ unread_notification_count }}</span>
		{% endif %}
		<span class="ml-1 hidden sm:inline">Notifications</span>
	  </a>
	  {% endif %}
	</nav>
	{% if request.user.is_authenticated %}
	  <div class="shrink-0 flex items-center gap-2 text-sm">
		<span class="whitespace-nowrap text-gray-500">{{ request.user.username }}</span>
		<form action="{% url 'logout' %}" method="post" class="inline-flex">
		  {% csrf_token %}
		  <button type="submit" class="hover:text-blue-500 whitespace-nowrap">Logout</button>
		</form>
	  </div>
	{% else %}
	  <form action="{% url 'login' %}" method="post" class="shrink-0 inline-flex">
		{% csrf_token %}
		<button type="submit" class="hover:text-blue-500 whitespace-nowrap text-sm">Login</button>
	  </form>
	{% endif %}
  </div>
</header>