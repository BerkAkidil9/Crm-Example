{% extends "base.html" %}
{% load tailwind_filters %}



{% block content %}

<div class="max-w-lg mx-auto">

	<div class="py-5 border-b border-gray-200">
		<a class="hover:text-blue-500 mt-3" href="{% url 'signup' %}">Don't have an account?</a>
	</div>

	<div class="bg-blue-50 border border-blue-200 rounded-md p-4 mb-4">
		<p class="text-blue-800 text-sm">
			<strong>Login Options:</strong> You can login using either your <strong>username</strong> or <strong>email address</strong>.
		</p>
	</div>

	{% if messages %}
		{% for message in messages %}
			{% if message.tags == 'error' %}
				<div class="bg-red-50 border border-red-200 rounded-md p-4 mb-4">
					<p class="text-red-800 text-sm">
						<strong>Login Failed:</strong> {{ message }}
					</p>
				</div>
			{% endif %}
		{% endfor %}
	{% endif %}

	<form method="POST" class="mt-5">
		{% csrf_token %}
		{{ form|crispy }}
		<div class="flex items-center mt-2">
			<input id="show-password" type="checkbox" class="mr-2">
			<label for="show-password">Show Password</label>
		</div>
		<button type="submit" class="w-full text-white bg-blue-500 hover:bg-blue-600 px-3 py-2 rounded-md">Login</button>
	</form>
	<div class="py-5 border-t border-gray-200 mt-5">
		<a class="hover:text-blue-500 mt-3" href="{% url 'reset-password' %}">Forget password?</a>
	</div>
</div>

<script>
	document.getElementById('show-password').addEventListener('change', function() {
		var passwordFields = document.querySelectorAll('input[type=password], input[type=text][data-type="password"]');
		passwordFields.forEach(function(passwordField) {
			if (passwordField.type === 'password') {
				passwordField.type = 'text';
				passwordField.setAttribute('data-type', 'password');
			} else {
				passwordField.type = 'password';
				passwordField.removeAttribute('data-type');
			}
		});
	});
</script>
{% endblock content %}





