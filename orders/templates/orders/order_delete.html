{% extends "base.html" %}
{% load tailwind_filters %}

{% block content %}
<div class="max-w-lg mx-auto">
    <div class="py-5 border-b border-gray-200">
        <a class="hover:text-blue-500 mt-3" href="{% url 'orders:order-list' %}">Back to all Orders</a>
    </div>
    <h1 id="confirmation-message" class="text-2xl text-gray-800">Are you sure you want to proceed with this action?</h1>
    <form method="post" action="{% url 'orders:order-delete' object.pk %}" class="mt-5" onsubmit="return confirmAction('delete')">
        {% csrf_token %}
        <button type="submit" class="w-full text-white bg-red-500 hover:bg-red-600 px-3 py-2 rounded-md">Delete</button>
    </form>
    {% if not object.is_cancelled %}
    <form method="post" action="{% url 'orders:order-cancel' object.pk %}" class="mt-5" onsubmit="return confirmAction('cancel')">
        {% csrf_token %}
        <button type="submit" class="w-full text-white bg-blue-500 hover:bg-blue-600 px-3 py-2 rounded-md mt-3">Cancel Order</button>
    </form>
    {% endif %}
</div>

<script>
    function setConfirmationMessage(action) {
        const messages = {
            delete: 'Are you sure you want to delete this order?',
            cancel: 'Are you sure you want to cancel this order?'
        };
        document.getElementById('confirmation-message').innerText = messages[action];
    }

    function confirmAction(action) {
        setConfirmationMessage(action);
        return confirm(document.getElementById('confirmation-message').innerText);
    }
</script>
{% endblock content %}


